import{r as i}from"./react-Tf5a63N3.js";import"./dayjs-I44_pL56.js";import{_ as m,a as h}from"./tslib-9i2l26Ba.js";import{i as L}from"./resize-observer-polyfill-B32NGzNS.js";var R=function(e){return typeof e=="function"},T=function(e){return typeof e=="number"};function A(e){var t=i.useRef(e);t.current=i.useMemo(function(){return e},[e]);var r=i.useRef();return r.current||(r.current=function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];return t.current.apply(this,a)}),r.current}function g(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function w(e){var t=i.useRef(e);return t.current=e,t}var b=function(e){var t=w(e);i.useEffect(function(){return function(){t.current()}},[])},S=!!(typeof window<"u"&&window.document&&window.document.createElement),H=function(e){i.useEffect(function(){e==null||e()},[])};function d(e,t){if(S){if(!e)return t;var r;return R(e)?r=e():"current"in e?r=e.current:r=e,r}}var W=function(e){var t=function(r,a,n){var u=i.useRef(!1),c=i.useRef([]),s=i.useRef([]),f=i.useRef();e(function(){var o,v=Array.isArray(n)?n:[n],l=v.map(function(F){return d(F)});if(!u.current){u.current=!0,c.current=l,s.current=a,f.current=r();return}(l.length!==c.current.length||!g(l,c.current)||!g(a,s.current))&&((o=f.current)===null||o===void 0||o.call(f),c.current=l,s.current=a,f.current=r())}),b(function(){var o;(o=f.current)===null||o===void 0||o.call(f),u.current=!1})};return t},C=W(i.useEffect);const _=C;function E(e,t,r){r===void 0&&(r={});var a=w(t);_(function(){var n=d(r.target,window);if(n!=null&&n.addEventListener){var u=function(c){return a.current(c)};return n.addEventListener(e,u,{capture:r.capture,once:r.once,passive:r.passive}),function(){n.removeEventListener(e,u,{capture:r.capture})}}},[e,r.capture,r.once,r.passive],r.target)}function O(e,t){var r=m(i.useState(!1),2),a=r[0],n=r[1],u=t||{},c=u.onFocus,s=u.onBlur,f=u.onChange;return E("focusin",function(o){a||(c==null||c(o),f==null||f(!0),n(!0))},{target:e}),E("focusout",function(o){var v,l;a&&!(!((l=(v=o.currentTarget)===null||v===void 0?void 0:v.contains)===null||l===void 0)&&l.call(v,o.relatedTarget))&&(s==null||s(o),f==null||f(!1),n(!1))},{target:e}),a}var $=function(e,t,r){r===void 0&&(r={});var a=A(e),n=i.useRef(null),u=i.useCallback(function(){n.current&&clearInterval(n.current)},[]);return i.useEffect(function(){if(!(!T(t)||t<0))return r.immediate&&a(),n.current=setInterval(a,t),u},[t,r.immediate]),u};function I(e){var t=i.useRef(0),r=m(i.useState(e),2),a=r[0],n=r[1],u=i.useCallback(function(c){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){n(c)})},[]);return b(function(){cancelAnimationFrame(t.current)}),[a,u]}var j=function(e){var t=m(i.useState(e),2),r=t[0],a=t[1],n=i.useCallback(function(u){a(function(c){var s=R(u)?u(c):u;return s?h(h({},c),s):c})},[]);return[r,n]},y=W(i.useLayoutEffect),k=S?y:_;function p(e){var t=m(I(function(){var n=d(e);return n?{width:n.clientWidth,height:n.clientHeight}:void 0}),2),r=t[0],a=t[1];return k(function(){var n=d(e);if(n){var u=new L(function(c){c.forEach(function(s){var f=s.target,o=f.clientWidth,v=f.clientHeight;a({width:o,height:v})})});return u.observe(n),function(){u.disconnect()}}},[],e),r}export{p as a,H as b,O as c,$ as d,j as u};
