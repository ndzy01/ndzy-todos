import{r as u}from"./react-Tf5a63N3.js";import"./dayjs-I44_pL56.js";import{_ as d,a as h}from"./tslib-9i2l26Ba.js";import{i as W}from"./resize-observer-polyfill-B32NGzNS.js";var R=function(e){return typeof e=="function"};function E(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function T(e){var t=u.useRef(e);return t.current=e,t}var g=function(e){var t=T(e);u.useEffect(function(){return function(){t.current()}},[])},w=!!(typeof window<"u"&&window.document&&window.document.createElement),z=function(e){u.useEffect(function(){e==null||e()},[])};function m(e,t){if(w){if(!e)return t;var r;return R(e)?r=e():"current"in e?r=e.current:r=e,r}}var S=function(e){var t=function(r,c,n){var a=u.useRef(!1),i=u.useRef([]),s=u.useRef([]),f=u.useRef();e(function(){var o,l=Array.isArray(n)?n:[n],v=l.map(function(_){return m(_)});if(!a.current){a.current=!0,i.current=v,s.current=c,f.current=r();return}(v.length!==i.current.length||!E(v,i.current)||!E(c,s.current))&&((o=f.current)===null||o===void 0||o.call(f),i.current=v,s.current=c,f.current=r())}),g(function(){var o;(o=f.current)===null||o===void 0||o.call(f),a.current=!1})};return t},b=S(u.useEffect);const y=b;function A(e){var t=u.useRef(0),r=d(u.useState(e),2),c=r[0],n=r[1],a=u.useCallback(function(i){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){n(i)})},[]);return g(function(){cancelAnimationFrame(t.current)}),[c,a]}var C=function(e){var t=d(u.useState(e),2),r=t[0],c=t[1],n=u.useCallback(function(a){c(function(i){var s=R(a)?a(i):a;return s?h(h({},i),s):i})},[]);return[r,n]},F=S(u.useLayoutEffect),L=w?F:y;function I(e){var t=d(A(function(){var n=m(e);return n?{width:n.clientWidth,height:n.clientHeight}:void 0}),2),r=t[0],c=t[1];return L(function(){var n=m(e);if(n){var a=new W(function(i){i.forEach(function(s){var f=s.target,o=f.clientWidth,l=f.clientHeight;c({width:o,height:l})})});return a.observe(n),function(){a.disconnect()}}},[],e),r}export{I as a,z as b,C as u};
