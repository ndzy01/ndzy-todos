import{r as u}from"./react-Tf5a63N3.js";import"./dayjs-I44_pL56.js";import{_ as d,a as h}from"./tslib-9i2l26Ba.js";import{i as W}from"./resize-observer-polyfill-B32NGzNS.js";var E=function(e){return typeof e=="function"},_=function(e){return typeof e=="number"};function T(e){var r=u.useRef(e);r.current=u.useMemo(function(){return e},[e]);var t=u.useRef();return t.current||(t.current=function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];return r.current.apply(this,a)}),t.current}function R(e,r){if(e===r)return!0;for(var t=0;t<e.length;t++)if(!Object.is(e[t],r[t]))return!1;return!0}function A(e){var r=u.useRef(e);return r.current=e,r}var g=function(e){var r=A(e);u.useEffect(function(){return function(){r.current()}},[])},w=!!(typeof window<"u"&&window.document&&window.document.createElement),x=function(e){u.useEffect(function(){e==null||e()},[])};function m(e,r){if(w){if(!e)return r;var t;return E(e)?t=e():"current"in e?t=e.current:t=e,t}}var S=function(e){var r=function(t,a,n){var i=u.useRef(!1),c=u.useRef([]),o=u.useRef([]),f=u.useRef();e(function(){var s,l=Array.isArray(n)?n:[n],v=l.map(function(b){return m(b)});if(!i.current){i.current=!0,c.current=v,o.current=a,f.current=t();return}(v.length!==c.current.length||!R(v,c.current)||!R(a,o.current))&&((s=f.current)===null||s===void 0||s.call(f),c.current=v,o.current=a,f.current=t())}),g(function(){var s;(s=f.current)===null||s===void 0||s.call(f),i.current=!1})};return r},F=S(u.useEffect);const y=F;var H=function(e,r,t){t===void 0&&(t={});var a=T(e),n=u.useRef(null),i=u.useCallback(function(){n.current&&clearInterval(n.current)},[]);return u.useEffect(function(){if(!(!_(r)||r<0))return t.immediate&&a(),n.current=setInterval(a,r),i},[r,t.immediate]),i};function I(e){var r=u.useRef(0),t=d(u.useState(e),2),a=t[0],n=t[1],i=u.useCallback(function(c){cancelAnimationFrame(r.current),r.current=requestAnimationFrame(function(){n(c)})},[]);return g(function(){cancelAnimationFrame(r.current)}),[a,i]}var O=function(e){var r=d(u.useState(e),2),t=r[0],a=r[1],n=u.useCallback(function(i){a(function(c){var o=E(i)?i(c):i;return o?h(h({},c),o):c})},[]);return[t,n]},k=S(u.useLayoutEffect),z=w?k:y;function $(e){var r=d(I(function(){var n=m(e);return n?{width:n.clientWidth,height:n.clientHeight}:void 0}),2),t=r[0],a=r[1];return z(function(){var n=m(e);if(n){var i=new W(function(c){c.forEach(function(o){var f=o.target,s=f.clientWidth,l=f.clientHeight;a({width:s,height:l})})});return i.observe(n),function(){i.disconnect()}}},[],e),t}export{$ as a,x as b,H as c,O as u};
