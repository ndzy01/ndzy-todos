import{r as o}from"./react-Tf5a63N3.js";import"./dayjs-I44_pL56.js";import{_ as h,a as m}from"./tslib-9i2l26Ba.js";import{i as T}from"./resize-observer-polyfill-B32NGzNS.js";var _=function(e){return typeof e=="function"};function E(e,r){if(e===r)return!0;for(var t=0;t<e.length;t++)if(!Object.is(e[t],r[t]))return!1;return!0}function R(e){var r=o.useRef(e);return r.current=e,r}var w=function(e){var r=R(e);o.useEffect(function(){return function(){r.current()}},[])},S=!!(typeof window<"u"&&window.document&&window.document.createElement),k=function(e){o.useEffect(function(){e==null||e()},[])};function d(e,r){if(S){if(!e)return r;var t;return _(e)?t=e():"current"in e?t=e.current:t=e,t}}var W=function(e){var r=function(t,c,n){var u=o.useRef(!1),a=o.useRef([]),s=o.useRef([]),i=o.useRef();e(function(){var f,v=Array.isArray(n)?n:[n],l=v.map(function(L){return d(L)});if(!u.current){u.current=!0,a.current=l,s.current=c,i.current=t();return}(l.length!==a.current.length||!E(l,a.current)||!E(c,s.current))&&((f=i.current)===null||f===void 0||f.call(i),a.current=l,s.current=c,i.current=t())}),w(function(){var f;(f=i.current)===null||f===void 0||f.call(i),u.current=!1})};return r},b=W(o.useEffect);const F=b;function g(e,r,t){t===void 0&&(t={});var c=R(r);F(function(){var n=d(t.target,window);if(n!=null&&n.addEventListener){var u=function(a){return c.current(a)};return n.addEventListener(e,u,{capture:t.capture,once:t.once,passive:t.passive}),function(){n.removeEventListener(e,u,{capture:t.capture})}}},[e,t.capture,t.once,t.passive],t.target)}function z(e,r){var t=h(o.useState(!1),2),c=t[0],n=t[1],u=r||{},a=u.onFocus,s=u.onBlur,i=u.onChange;return g("focusin",function(f){c||(a==null||a(f),i==null||i(!0),n(!0))},{target:e}),g("focusout",function(f){var v,l;c&&!(!((l=(v=f.currentTarget)===null||v===void 0?void 0:v.contains)===null||l===void 0)&&l.call(v,f.relatedTarget))&&(s==null||s(f),i==null||i(!1),n(!1))},{target:e}),c}function y(e){var r=o.useRef(0),t=h(o.useState(e),2),c=t[0],n=t[1],u=o.useCallback(function(a){cancelAnimationFrame(r.current),r.current=requestAnimationFrame(function(){n(a)})},[]);return w(function(){cancelAnimationFrame(r.current)}),[c,u]}var M=function(e){var r=h(o.useState(e),2),t=r[0],c=r[1],n=o.useCallback(function(u){c(function(a){var s=_(u)?u(a):u;return s?m(m({},a),s):a})},[]);return[t,n]},A=W(o.useLayoutEffect),C=S?A:F;function O(e){var r=h(y(function(){var n=d(e);return n?{width:n.clientWidth,height:n.clientHeight}:void 0}),2),t=r[0],c=r[1];return C(function(){var n=d(e);if(n){var u=new T(function(a){a.forEach(function(s){var i=s.target,f=i.clientWidth,v=i.clientHeight;c({width:f,height:v})})});return u.observe(n),function(){u.disconnect()}}},[],e),t}export{O as a,k as b,z as c,M as u};
